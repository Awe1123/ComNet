# 3.4 可靠传输的工作原理

## 理想的传输条件特点

理想的传输条件有以下两个特点:
- (1) 传输信道不产生差错。
- (2) 不管发送方以多快的速度发送数据, 接收方总是 来得及处理收到的数据。
在这样的理想传输条件下, 不需要采取任何措 施就能够实现可靠传输。
然而实际的网络都不具备以上两个理想条件。 必须使用一些可靠传输协议, 在不可靠的传输 信道实现可靠传输。

## 问题：如何实现可靠传输？

IP网存在的问题: IP协议是一种不可靠的、非连 接型的数据报分组交换协议, 只能提供 “尽力而 为 (best-effort)" 的数据传输服务质量。

## 可靠传输的要求

可靠传输的要求:
(1) 数据传输不产生差错, 即使出错也能及时纠正。
(2) 发送方发送数据的速度合适, 以便接收方来得及 处理收到的数据, 不存在数据丟失现象。

要在不可靠的传输信道或网络上实现可靠传输, 必须设计相应的可靠传输协议, 需实现:

差错控制：检错和纠错 

怎么纠错？

流量控制：控制发送数据速率（单位时间内的流量）。

怎么控制？

## 纠错方法

■ 类似检错, 采用编码法 (使用纠错码)（要求检错能力强到可以定位哪一位有错）
- 这种方法称为前向纠错 (Forward Error Correction, FEC)
反馈请求重传
- 这种方法称为自动重传请求 (Automatic Repeat reQuest, **ARQ**）
- ARQ方法分类:
- 停等式 $A R Q$, 又称为停止等待协议（发送方每发送一个报文都必须等待接收方的回复，效率较低）
- 连续式 $A R Q$, 有两种工作方式:

  - 退回N步重发(Go-back-N) 

  -  选择性确认/重发。
